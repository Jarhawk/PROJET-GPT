@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --mamastock-bg: #0C1C2E;
  --mamastock-text: #FFFFFF;
  --mamastock-gold: #F6C343;
  /* Theme variables overridable via ThemeProvider */
  --primary-color: var(--mamastock-gold);
  --secondary-color: var(--mamastock-bg);
}

/* Style custom global pour MamaStock */
@layer components {
  body {
    font-family: "Inter", sans-serif;
    @apply bg-background text-text;
  }

html {
  -webkit-text-size-adjust: 100%;
}

a {
  color: #bfa14d;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

/* Smaller loader used in inline buttons */
.loader-glass {
  border: 2px solid #fff;
  border-top: 2px solid #bfa14d;
  border-radius: 50%;
  width: 1rem;
  height: 1rem;
  margin-right: 8px;
  animation: spin .9s linear infinite;
  display: inline-block;
}
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Modern buttons */
.btn {
  @apply px-4 py-2 rounded-md text-sm font-semibold transition-colors;
}
.btn-primary {
  @apply btn bg-primary text-white hover:bg-primary-90;
}
.btn-outline {
  @apply btn border border-gray-300 text-gray-700 bg-white hover:bg-gray-50;
}
.btn-transition {
  @apply transition-all duration-200 ease-in-out;
}
.btn-sm {
  @apply text-sm px-3 py-1;
}

/* Badges pour rôles */
.badge {
  @apply inline-block px-2 py-1 rounded-xl text-xs font-semibold;
}
.badge-superadmin {
  @apply bg-red-600 text-white;
}
.badge-admin {
  @apply bg-blue-600 text-white;
}
.badge-user {
  @apply bg-white/20 text-white backdrop-blur-xl;
}

/* Input custom */
.form-input,
.form-textarea,
.form-select,
select {
  @apply w-full px-4 py-2 font-semibold rounded-md shadow-sm border focus:outline-none transition-colors text-gray-900 bg-white placeholder-gray-400 border-gray-300 hover:bg-gray-100 focus:bg-white dark:text-white dark:bg-gray-800;
}

.form-select option,
select option {
  @apply text-gray-900 bg-white dark:text-white dark:bg-gray-700;
}

.form-select option:hover,
select option:hover {
  @apply bg-gray-100 dark:bg-gray-700;
}

.form-select option:checked,
select option:checked {
  @apply bg-gray-100 dark:bg-gray-700;
}

.form-label {
  @apply block text-sm mb-1;
}

/* Modern form helpers */
.input {
  @apply w-full p-2 border border-gray-300 rounded-md shadow-sm text-sm focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary bg-white text-gray-900 hover:bg-gray-100;
}
.label {
  @apply block text-sm font-medium text-gray-700 mb-1;
}

/* Tables */
.table-striped tbody tr:nth-child(even) {
  @apply bg-white/5;
}
.listing-table {
  @apply w-full min-w-max table-auto text-left whitespace-nowrap;
}
.listing-table thead th {
  @apply bg-white/10 backdrop-blur sticky top-0 z-10 px-3 py-3 border-b border-white/10;
}
.listing-table td,
.listing-table th {
  @apply px-3 py-3 border-b border-white/10;
}
.listing-table tbody tr:nth-child(odd) {
  @apply bg-white/5;
}
.listing-table tbody tr:hover {
  @apply bg-white/10;
}

/* Dark mode auto */
html.dark body {
  @apply bg-background text-text;
}
@media (prefers-color-scheme: dark) {
  html:not(.dark) body {
    @apply bg-background text-text;
  }
}
/* Animations LiquidGlass & glass panel */
.animate-liquid { animation: glassMove 12s ease-in-out infinite alternate; }
.animate-liquid2 { animation: glassMove2 18s ease-in-out infinite alternate; }
.animate-liquid3 { animation: glassMove3 20s ease-in-out infinite alternate; }
@keyframes glassMove {
  0% { transform: scale(1) translate(0, 0); }
  100% { transform: scale(1.14) translate(35px, 32px); }
}
@keyframes glassMove2 {
  0% { transform: scale(1) translate(0, 0); }
  100% { transform: scale(1.08) translate(-48px, 12px); }
}
@keyframes glassMove3 {
  0% { transform: scale(1.06) translate(0, 0); }
  100% { transform: scale(1) translate(12px, -32px); }
}
.glass-panel {
  background: linear-gradient(125deg, rgba(255,255,255,0.24) 40%, rgba(191,161,77,0.11) 100%);
}

.animate-fade-in { animation: fade-in 0.5s ease-out forwards; }
.animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fade-in-down {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Auth card & logo shadow */
.auth-card {
  box-shadow: 0 10px 32px 0 rgba(50,50,80,0.14), 0 1.5px 10px 0 rgba(191,161,77,0.1);
  backdrop-filter: blur(32px) saturate(1.3);
  -webkit-backdrop-filter: blur(32px) saturate(1.3);
}
.logo-glow {
  box-shadow: 0 2px 20px 0 #bfa14d50;
}

.text-shadow { text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
.glow-gold { text-shadow: 0 0 8px var(--mamastock-gold); }

/* Theme color helpers */
.text-primary,
.text-mamastockGold {
  color: var(--primary-color);
}
.bg-primary,
.bg-mamastockGold {
  background-color: var(--primary-color);
}
.border-primary,
.border-mamastockGold {
  border-color: var(--primary-color);
}


/* Liquid bubbles */
.bubble {
  position: absolute;
  bottom: -2rem;
  background: rgba(255, 255, 255, 0.15);
  border-radius: 9999px;
  animation-name: bubble-rise;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}
@keyframes bubble-rise {
  from { transform: translateY(0) scale(1); opacity: 0; }
  50% { opacity: 0.6; }
  to { transform: translateY(-110vh) scale(1.2); opacity: 0; }
}

/* Waves */
.wave {
  position: absolute;
  left: 0;
  width: 200%;
  height: 100%;
  animation: wave-slide 12s linear infinite;
}
.wave:nth-child(2) {
  top: -10%;
  opacity: 0.6;
  animation-duration: 18s;
}
@keyframes wave-slide {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

/* Touch ripple animation */
@keyframes touch-fade {
  from { transform: scale(0); opacity: 0.6; }
  to { transform: scale(1.2); opacity: 0; }
}
.animate-touch-fade { animation: touch-fade 0.6s ease-out forwards; }
}


/* Couleurs utilitaires si manquantes */
.bg-muted { background: rgba(0,0,0,0.04); }

/* Tailwind-like (si vous n’avez pas Tailwind complet) */
.rounded-2xl { border-radius: 1rem; }
.backdrop-blur { backdrop-filter: blur(6px); }
/* Contrastes et couleurs utilitaires */
.text-muted-foreground { color: rgb(107 114 128); }           /* slate-500 approx */
.dark .text-muted-foreground { color: rgb(148 163 184); }     /* slate-400 approx */

:root {
  --primary: 59 130 246; /* bleu clair */
}
.focus-visible\:outline-primary:focus-visible {
  outline: 2px solid rgb(var(--primary));
  outline-offset: 2px;
}

/* Transitions compatibles Firefox (évite "Déclaration abandonnée") */
[data-state="open"].animate-in,
[data-state="closed"].animate-out {
  transition: opacity .15s ease, transform .15s ease;
}

:root {
  --primary: 99 102 241; /* indigo-500 par défaut : rgb triplet pour tailwind ring */
}
.dark {
  --primary: 99 102 241;
}

/* Utilitaires (si pas déjà dans Tailwind config) */
.focus-visible\:outline-primary:focus-visible { outline: 2px solid rgb(var(--primary)); outline-offset: 2px; }
.focus\:border-primary:focus { border-color: rgb(var(--primary)); }
.focus\:ring-primary\/30:focus { box-shadow: 0 0 0 4px rgba(var(--primary) / .3); }

/* Scrollbar discrète pour les listes */
@media (hover:hover) {
  .max-h-\[56vh\]::-webkit-scrollbar { width: 10px; }
  .max-h-\[56vh\]::-webkit-scrollbar-thumb { background: rgba(255,255,255,.15); border-radius: 999px; }
  .max-h-\[56vh\]::-webkit-scrollbar-track { background: transparent; }
}

/* Zone Lignes produits — pas de scroll horizontal */
.lignes-produits {
  overflow-x: hidden;
}

/* Masquer la barre si jamais un enfant scrolle */
.lignes-produits::-webkit-scrollbar {
  display: none;           /* Chrome / Edge / Safari */
}
.lignes-produits {
  -ms-overflow-style: none; /* IE / Edge legacy */
  scrollbar-width: none;    /* Firefox */
}

/* Ensure toast notifications appear above other elements */
.sonner-toaster {
  z-index: 9999 !important;
}

/* Remove spinners from numeric inputs */
input[type="number"] {
  appearance: textfield;
}
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
