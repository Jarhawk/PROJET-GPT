-- Pour extraire la structure complète de toutes les tables du schéma "public"
SELECT
    table_name,
    column_name,
    data_type,
    is_nullable,
    column_default
FROM
    information_schema.columns
WHERE
    table_schema = 'public'
ORDER BY
    table_name,
    ordinal_position;


| table_name                               | column_name               | data_type                | is_nullable | column_default       |
| ---------------------------------------- | ------------------------- | ------------------------ | ----------- | -------------------- |
| access_rights                            | id                        | uuid                     | NO          | gen_random_uuid()    |
| access_rights                            | mama_id                   | uuid                     | NO          | null                 |
| access_rights                            | role_id                   | uuid                     | NO          | null                 |
| access_rights                            | module                    | text                     | NO          | null                 |
| access_rights                            | peut_voir                 | boolean                  | NO          | false                |
| access_rights                            | peut_modifier             | boolean                  | NO          | false                |
| access_rights                            | created_at                | timestamp with time zone | YES         | now()                |
| achats                                   | id                        | uuid                     | NO          | gen_random_uuid()    |
| achats                                   | mama_id                   | uuid                     | YES         | null                 |
| achats                                   | produit_id                | uuid                     | YES         | null                 |
| achats                                   | supplier_id               | uuid                     | YES         | null                 |
| achats                                   | prix                      | numeric                  | YES         | null                 |
| achats                                   | quantite                  | numeric                  | YES         | null                 |
| achats                                   | date_achat                | date                     | YES         | null                 |
| achats                                   | created_at                | timestamp with time zone | YES         | now()                |
| achats                                   | updated_at                | timestamp with time zone | YES         | now()                |
| achats                                   | actif                     | boolean                  | YES         | true                 |
| api_keys                                 | id                        | uuid                     | NO          | gen_random_uuid()    |
| api_keys                                 | mama_id                   | uuid                     | YES         | null                 |
| api_keys                                 | user_id                   | uuid                     | YES         | null                 |
| api_keys                                 | name                      | text                     | YES         | null                 |
| api_keys                                 | scopes                    | jsonb                    | YES         | null                 |
| api_keys                                 | role                      | text                     | YES         | null                 |
| api_keys                                 | expiration                | date                     | YES         | null                 |
| api_keys                                 | revoked                   | boolean                  | YES         | false                |
| api_keys                                 | created_at                | timestamp with time zone | YES         | now()                |
| auth_double_facteur                      | id                        | uuid                     | NO          | null                 |
| auth_double_facteur                      | secret                    | text                     | YES         | null                 |
| auth_double_facteur                      | enabled                   | boolean                  | YES         | false                |
| auth_double_facteur                      | created_at                | timestamp with time zone | YES         | now()                |
| bons_livraison                           | id                        | uuid                     | NO          | gen_random_uuid()    |
| bons_livraison                           | mama_id                   | uuid                     | YES         | null                 |
| bons_livraison                           | fournisseur_id            | uuid                     | YES         | null                 |
| bons_livraison                           | numero_bl                 | text                     | YES         | null                 |
| bons_livraison                           | date_livraison            | date                     | YES         | null                 |
| bons_livraison                           | created_at                | timestamp with time zone | YES         | now()                |
| bons_livraison                           | date_reception            | date                     | YES         | null                 |
| bons_livraison                           | commentaire               | text                     | YES         | null                 |
| bons_livraison                           | statut                    | text                     | YES         | 'recu'::text         |
| bons_livraison                           | actif                     | boolean                  | YES         | true                 |
| bons_livraison                           | updated_at                | timestamp with time zone | YES         | now()                |
| bons_livraison                           | commande_id               | uuid                     | YES         | null                 |
| bons_livraison                           | facture_id                | uuid                     | YES         | null                 |
| catalogue_updates                        | id                        | uuid                     | NO          | gen_random_uuid()    |
| catalogue_updates                        | mama_id                   | uuid                     | YES         | null                 |
| catalogue_updates                        | fournisseur_id            | uuid                     | YES         | null                 |
| catalogue_updates                        | produit_id                | uuid                     | YES         | null                 |
| catalogue_updates                        | ancienne_valeur           | numeric                  | YES         | null                 |
| catalogue_updates                        | nouvelle_valeur           | numeric                  | YES         | null                 |
| catalogue_updates                        | modification              | jsonb                    | YES         | null                 |
| catalogue_updates                        | created_at                | timestamp with time zone | YES         | now()                |
| centres_de_cout                          | id                        | uuid                     | NO          | gen_random_uuid()    |
| centres_de_cout                          | mama_id                   | uuid                     | NO          | null                 |
| centres_de_cout                          | nom                       | text                     | NO          | null                 |
| centres_de_cout                          | created_at                | timestamp with time zone | YES         | now()                |
| centres_de_cout                          | updated_at                | timestamp with time zone | YES         | now()                |
| centres_de_cout                          | actif                     | boolean                  | YES         | true                 |
| centres_de_cout                          | activite                  | text                     | YES         | null                 |
| commande_lignes                          | id                        | uuid                     | NO          | gen_random_uuid()    |
| commande_lignes                          | mama_id                   | uuid                     | NO          | null                 |
| commande_lignes                          | commande_id               | uuid                     | NO          | null                 |
| commande_lignes                          | produit_id                | uuid                     | NO          | null                 |
| commande_lignes                          | quantite                  | numeric                  | YES         | null                 |
| commande_lignes                          | unite                     | text                     | YES         | null                 |
| commande_lignes                          | prix_unitaire             | numeric                  | YES         | null                 |
| commande_lignes                          | tva                       | numeric                  | YES         | null                 |
| commande_lignes                          | total                     | numeric                  | YES         | null                 |
| commande_lignes                          | commentaire               | text                     | YES         | null                 |
| commande_lignes                          | part_livree               | numeric                  | YES         | null                 |
| commande_lignes                          | rupture                   | boolean                  | YES         | null                 |
| commande_lignes                          | actif                     | boolean                  | YES         | true                 |
| commande_lignes                          | created_at                | timestamp with time zone | YES         | now()                |
| commande_lignes                          | updated_at                | timestamp with time zone | YES         | now()                |
| commandes                                | id                        | uuid                     | NO          | gen_random_uuid()    |
| commandes                                | mama_id                   | uuid                     | YES         | null                 |
| commandes                                | fournisseur_id            | uuid                     | YES         | null                 |
| commandes                                | statut                    | text                     | YES         | null                 |
| commandes                                | created_at                | timestamp with time zone | YES         | now()                |
| commandes                                | date_commande             | date                     | YES         | null                 |
| commandes                                | date_livraison_prevue     | date                     | YES         | null                 |
| commandes                                | montant_total             | numeric                  | YES         | null                 |
| commandes                                | commentaire               | text                     | YES         | null                 |
| commandes                                | updated_at                | timestamp with time zone | YES         | now()                |
| commandes                                | actif                     | boolean                  | YES         | true                 |
| commandes                                | bl_id                     | uuid                     | YES         | null                 |
| commandes                                | facture_id                | uuid                     | YES         | null                 |
| compta_mapping                           | id                        | uuid                     | NO          | gen_random_uuid()    |
| compta_mapping                           | mama_id                   | uuid                     | YES         | null                 |
| compta_mapping                           | cle                       | text                     | YES         | null                 |
| compta_mapping                           | compte                    | text                     | YES         | null                 |
| compta_mapping                           | type                      | text                     | YES         | null                 |
| compta_mapping                           | created_at                | timestamp with time zone | YES         | now()                |
| consentements_utilisateur                | id                        | uuid                     | NO          | gen_random_uuid()    |
| consentements_utilisateur                | user_id                   | uuid                     | YES         | null                 |
| consentements_utilisateur                | mama_id                   | uuid                     | YES         | null                 |
| consentements_utilisateur                | consentement              | boolean                  | YES         | null                 |
| consentements_utilisateur                | date_consentement         | timestamp with time zone | YES         | null                 |
| consentements_utilisateur                | actif                     | boolean                  | YES         | true                 |
| consentements_utilisateur                | created_at                | timestamp with time zone | YES         | now()                |
| consentements_utilisateur                | utilisateur_id            | uuid                     | YES         | null                 |
| consentements_utilisateur                | type_consentement         | text                     | YES         | null                 |
| documentation                            | id                        | uuid                     | NO          | gen_random_uuid()    |
| documentation                            | mama_id                   | uuid                     | YES         | null                 |
| documentation                            | titre                     | text                     | YES         | null                 |
| documentation                            | contenu                   | text                     | YES         | null                 |
| documentation                            | categorie                 | text                     | YES         | null                 |
| documentation                            | created_at                | timestamp with time zone | YES         | now()                |
| documents                                | id                        | uuid                     | NO          | gen_random_uuid()    |
| documents                                | mama_id                   | uuid                     | YES         | null                 |
| documents                                | chemin                    | text                     | YES         | null                 |
| documents                                | type                      | text                     | YES         | null                 |
| documents                                | created_at                | timestamp with time zone | YES         | now()                |
| etapes_onboarding                        | id                        | uuid                     | NO          | gen_random_uuid()    |
| etapes_onboarding                        | mama_id                   | uuid                     | YES         | null                 |
| etapes_onboarding                        | etape                     | text                     | YES         | null                 |
| etapes_onboarding                        | terminee                  | boolean                  | YES         | false                |
| etapes_onboarding                        | created_at                | timestamp with time zone | YES         | now()                |
| facture_lignes                           | id                        | uuid                     | NO          | gen_random_uuid()    |
| facture_lignes                           | mama_id                   | uuid                     | NO          | null                 |
| facture_lignes                           | facture_id                | uuid                     | NO          | null                 |
| facture_lignes                           | produit_id                | uuid                     | NO          | null                 |
| facture_lignes                           | quantite                  | numeric                  | YES         | null                 |
| facture_lignes                           | prix                      | numeric                  | YES         | null                 |
| facture_lignes                           | created_at                | timestamp with time zone | YES         | now()                |
| facture_lignes                           | updated_at                | timestamp with time zone | YES         | now()                |
| facture_lignes                           | actif                     | boolean                  | YES         | true                 |
| facture_lignes                           | prix_unitaire             | numeric                  | YES         | null                 |
| facture_lignes                           | tva                       | numeric                  | YES         | null                 |
| facture_lignes                           | total                     | numeric                  | YES         | null                 |
| factures                                 | id                        | uuid                     | NO          | gen_random_uuid()    |
| factures                                 | mama_id                   | uuid                     | NO          | null                 |
| factures                                 | fournisseur_id            | uuid                     | YES         | null                 |
| factures                                 | numero                    | text                     | YES         | null                 |
| factures                                 | date_facture              | date                     | YES         | null                 |
| factures                                 | created_at                | timestamp with time zone | YES         | now()                |
| factures                                 | updated_at                | timestamp with time zone | YES         | now()                |
| factures                                 | actif                     | boolean                  | YES         | true                 |
| factures                                 | total_ht                  | numeric                  | YES         | null                 |
| factures                                 | total_tva                 | numeric                  | YES         | null                 |
| factures                                 | total_ttc                 | numeric                  | YES         | null                 |
| factures                                 | statut                    | text                     | YES         | null                 |
| factures                                 | montant_total             | numeric                  | YES         | null                 |
| familles                                 | id                        | uuid                     | NO          | uuid_generate_v4()   |
| familles                                 | nom                       | text                     | NO          | null                 |
| familles                                 | mama_id                   | uuid                     | NO          | null                 |
| familles                                 | actif                     | boolean                  | YES         | true                 |
| familles                                 | created_at                | timestamp with time zone | YES         | now()                |
| familles                                 | parent_id                 | uuid                     | YES         | null                 |
| familles                                 | populaire                 | boolean                  | YES         | false                |
| familles                                 | updated_at                | timestamp with time zone | YES         | now()                |
| feedback                                 | id                        | uuid                     | NO          | gen_random_uuid()    |
| feedback                                 | mama_id                   | uuid                     | YES         | null                 |
| feedback                                 | user_id                   | uuid                     | YES         | null                 |
| feedback                                 | module                    | text                     | YES         | null                 |
| feedback                                 | message                   | text                     | YES         | null                 |
| feedback                                 | urgence                   | text                     | YES         | null                 |
| feedback                                 | created_at                | timestamp with time zone | YES         | now()                |
| fiche_cout_history                       | id                        | uuid                     | NO          | gen_random_uuid()    |
| fiche_cout_history                       | mama_id                   | uuid                     | NO          | null                 |
| fiche_cout_history                       | fiche_id                  | uuid                     | NO          | null                 |
| fiche_cout_history                       | old_cout                  | numeric                  | YES         | null                 |
| fiche_cout_history                       | new_cout                  | numeric                  | YES         | null                 |
| fiche_cout_history                       | changed_by                | uuid                     | YES         | null                 |
| fiche_cout_history                       | changed_at                | timestamp with time zone | YES         | null                 |
| fiche_cout_history                       | created_at                | timestamp with time zone | YES         | now()                |
| fiche_cout_history                       | updated_at                | timestamp with time zone | YES         | now()                |
| fiche_cout_history                       | actif                     | boolean                  | YES         | true                 |
| fiche_lignes                             | id                        | uuid                     | NO          | gen_random_uuid()    |
| fiche_lignes                             | mama_id                   | uuid                     | NO          | null                 |
| fiche_lignes                             | fiche_id                  | uuid                     | NO          | null                 |
| fiche_lignes                             | description               | text                     | YES         | null                 |
| fiche_lignes                             | quantite                  | numeric                  | YES         | null                 |
| fiche_lignes                             | created_at                | timestamp with time zone | YES         | now()                |
| fiche_lignes                             | updated_at                | timestamp with time zone | YES         | now()                |
| fiche_lignes                             | actif                     | boolean                  | YES         | true                 |
| fiche_lignes                             | produit_id                | uuid                     | YES         | null                 |
| fiche_lignes                             | sous_fiche_id             | uuid                     | YES         | null                 |
| fiche_prix_history                       | id                        | uuid                     | NO          | gen_random_uuid()    |
| fiche_prix_history                       | mama_id                   | uuid                     | NO          | null                 |
| fiche_prix_history                       | fiche_id                  | uuid                     | NO          | null                 |
| fiche_prix_history                       | old_prix                  | numeric                  | YES         | null                 |
| fiche_prix_history                       | new_prix                  | numeric                  | YES         | null                 |
| fiche_prix_history                       | changed_by                | uuid                     | YES         | null                 |
| fiche_prix_history                       | changed_at                | timestamp with time zone | YES         | null                 |
| fiche_prix_history                       | created_at                | timestamp with time zone | YES         | now()                |
| fiche_prix_history                       | updated_at                | timestamp with time zone | YES         | now()                |
| fiche_prix_history                       | actif                     | boolean                  | YES         | true                 |
| fiches                                   | id                        | uuid                     | NO          | gen_random_uuid()    |
| fiches                                   | mama_id                   | uuid                     | NO          | null                 |
| fiches                                   | titre                     | text                     | NO          | null                 |
| fiches                                   | created_at                | timestamp with time zone | YES         | now()                |
| fiches                                   | updated_at                | timestamp with time zone | YES         | now()                |
| fiches                                   | actif                     | boolean                  | YES         | true                 |
| fiches                                   | portions                  | numeric                  | YES         | 1                    |
| fiches_techniques                        | id                        | uuid                     | NO          | gen_random_uuid()    |
| fiches_techniques                        | mama_id                   | uuid                     | NO          | null                 |
| fiches_techniques                        | fiche_id                  | uuid                     | NO          | null                 |
| fiches_techniques                        | technique                 | text                     | YES         | null                 |
| fiches_techniques                        | created_at                | timestamp with time zone | YES         | now()                |
| fiches_techniques                        | updated_at                | timestamp with time zone | YES         | now()                |
| fiches_techniques                        | actif                     | boolean                  | YES         | true                 |
| fiches_techniques                        | nom                       | text                     | YES         | null                 |
| fiches_techniques                        | cout_par_portion          | numeric                  | YES         | null                 |
| fiches_techniques                        | portions                  | numeric                  | YES         | 1                    |
| fiches_techniques                        | famille                   | text                     | YES         | null                 |
| fiches_techniques                        | prix_vente                | numeric                  | YES         | null                 |
| fiches_techniques                        | type_carte                | text                     | YES         | null                 |
| fiches_techniques                        | sous_type_carte           | text                     | YES         | null                 |
| fiches_techniques                        | carte_actuelle            | boolean                  | YES         | false                |
| fiches_techniques                        | cout_total                | numeric                  | YES         | null                 |
| fiches_techniques                        | cout_portion              | numeric                  | YES         | null                 |
| fiches_techniques                        | rendement                 | numeric                  | YES         | 1                    |
| fournisseur_contacts                     | id                        | uuid                     | NO          | gen_random_uuid()    |
| fournisseur_contacts                     | mama_id                   | uuid                     | NO          | null                 |
| fournisseur_contacts                     | fournisseur_id            | uuid                     | NO          | null                 |
| fournisseur_contacts                     | nom                       | text                     | YES         | null                 |
| fournisseur_contacts                     | email                     | text                     | YES         | null                 |
| fournisseur_contacts                     | tel                       | text                     | YES         | null                 |
| fournisseur_contacts                     | created_at                | timestamp with time zone | YES         | now()                |
| fournisseur_contacts                     | updated_at                | timestamp with time zone | YES         | now()                |
| fournisseur_contacts                     | actif                     | boolean                  | YES         | true                 |
| fournisseur_notes                        | id                        | uuid                     | NO          | gen_random_uuid()    |
| fournisseur_notes                        | mama_id                   | uuid                     | NO          | null                 |
| fournisseur_notes                        | fournisseur_id            | uuid                     | NO          | null                 |
| fournisseur_notes                        | note                      | text                     | YES         | null                 |
| fournisseur_notes                        | date                      | date                     | YES         | null                 |
| fournisseur_notes                        | created_at                | timestamp with time zone | YES         | now()                |
| fournisseur_notes                        | updated_at                | timestamp with time zone | YES         | now()                |
| fournisseur_notes                        | actif                     | boolean                  | YES         | true                 |
| fournisseur_produits                     | id                        | uuid                     | NO          | gen_random_uuid()    |
| fournisseur_produits                     | mama_id                   | uuid                     | NO          | null                 |
| fournisseur_produits                     | fournisseur_id            | uuid                     | NO          | null                 |
| fournisseur_produits                     | produit_id                | uuid                     | NO          | null                 |
| fournisseur_produits                     | created_at                | timestamp with time zone | YES         | now()                |
| fournisseur_produits                     | updated_at                | timestamp with time zone | YES         | now()                |
| fournisseur_produits                     | actif                     | boolean                  | YES         | true                 |
| fournisseur_produits                     | prix_achat                | numeric                  | YES         | null                 |
| fournisseur_produits                     | date_livraison            | date                     | YES         | null                 |
| fournisseurs                             | id                        | uuid                     | NO          | gen_random_uuid()    |
| fournisseurs                             | mama_id                   | uuid                     | NO          | null                 |
| fournisseurs                             | nom                       | text                     | NO          | null                 |
| fournisseurs                             | created_at                | timestamp with time zone | YES         | now()                |
| fournisseurs                             | updated_at                | timestamp with time zone | YES         | now()                |
| fournisseurs                             | actif                     | boolean                  | YES         | true                 |
| fournisseurs_api_config                  | fournisseur_id            | uuid                     | NO          | null                 |
| fournisseurs_api_config                  | mama_id                   | uuid                     | NO          | null                 |
| fournisseurs_api_config                  | url                       | text                     | YES         | null                 |
| fournisseurs_api_config                  | type_api                  | text                     | YES         | 'rest'::text         |
| fournisseurs_api_config                  | token                     | text                     | YES         | null                 |
| fournisseurs_api_config                  | format_facture            | text                     | YES         | 'json'::text         |
| fournisseurs_api_config                  | actif                     | boolean                  | YES         | true                 |
| fournisseurs_api_config                  | created_at                | timestamp with time zone | YES         | now()                |
| gadgets                                  | id                        | uuid                     | NO          | gen_random_uuid()    |
| gadgets                                  | tableau_id                | uuid                     | YES         | null                 |
| gadgets                                  | type                      | text                     | YES         | null                 |
| gadgets                                  | config                    | jsonb                    | YES         | null                 |
| gadgets                                  | created_at                | timestamp with time zone | YES         | now()                |
| gadgets                                  | mama_id                   | uuid                     | YES         | null                 |
| gadgets                                  | actif                     | boolean                  | YES         | true                 |
| gadgets                                  | nom                       | text                     | YES         | null                 |
| gadgets                                  | ordre                     | integer                  | YES         | 0                    |
| gadgets                                  | configuration_json        | jsonb                    | YES         | null                 |
| guides_seen                              | user_id                   | uuid                     | NO          | null                 |
| guides_seen                              | mama_id                   | uuid                     | YES         | null                 |
| guides_seen                              | module                    | text                     | NO          | null                 |
| guides_seen                              | seen                      | boolean                  | YES         | false                |
| help_articles                            | id                        | uuid                     | NO          | gen_random_uuid()    |
| help_articles                            | titre                     | text                     | YES         | null                 |
| help_articles                            | contenu                   | text                     | YES         | null                 |
| help_articles                            | created_at                | timestamp with time zone | YES         | now()                |
| inventaire_lignes                        | id                        | uuid                     | NO          | gen_random_uuid()    |
| inventaire_lignes                        | mama_id                   | uuid                     | NO          | null                 |
| inventaire_lignes                        | inventaire_id             | uuid                     | NO          | null                 |
| inventaire_lignes                        | produit_id                | uuid                     | NO          | null                 |
| inventaire_lignes                        | quantite                  | numeric                  | YES         | null                 |
| inventaire_lignes                        | created_at                | timestamp with time zone | YES         | now()                |
| inventaire_lignes                        | updated_at                | timestamp with time zone | YES         | now()                |
| inventaire_lignes                        | actif                     | boolean                  | YES         | true                 |
| inventaire_lignes                        | zone_id                   | uuid                     | YES         | null                 |
| inventaire_lignes                        | quantite_theorique        | numeric                  | YES         | null                 |
| inventaire_lignes                        | quantite_reelle           | numeric                  | YES         | null                 |
| inventaire_lignes                        | motif                     | text                     | YES         | null                 |
| inventaire_zones                         | id                        | uuid                     | NO          | gen_random_uuid()    |
| inventaire_zones                         | mama_id                   | uuid                     | YES         | null                 |
| inventaire_zones                         | nom                       | text                     | YES         | null                 |
| inventaire_zones                         | created_at                | timestamp with time zone | YES         | now()                |
| inventaire_zones                         | actif                     | boolean                  | YES         | true                 |
| inventaires                              | id                        | uuid                     | NO          | gen_random_uuid()    |
| inventaires                              | mama_id                   | uuid                     | NO          | null                 |
| inventaires                              | date_inventaire           | date                     | YES         | null                 |
| inventaires                              | created_at                | timestamp with time zone | YES         | now()                |
| inventaires                              | updated_at                | timestamp with time zone | YES         | now()                |
| inventaires                              | actif                     | boolean                  | YES         | true                 |
| inventaires                              | reference                 | text                     | YES         | null                 |
| inventaires                              | zone                      | text                     | YES         | null                 |
| inventaires                              | date_debut                | date                     | YES         | null                 |
| inventaires                              | cloture                   | boolean                  | YES         | false                |
| journal_audit                            | id                        | uuid                     | NO          | gen_random_uuid()    |
| journal_audit                            | mama_id                   | uuid                     | NO          | null                 |
| journal_audit                            | table_name                | text                     | YES         | null                 |
| journal_audit                            | row_id                    | uuid                     | YES         | null                 |
| journal_audit                            | operation                 | text                     | YES         | null                 |
| journal_audit                            | old_data                  | jsonb                    | YES         | null                 |
| journal_audit                            | new_data                  | jsonb                    | YES         | null                 |
| journal_audit                            | changed_by                | uuid                     | YES         | null                 |
| journal_audit                            | created_at                | timestamp with time zone | YES         | now()                |
| journal_audit                            | updated_at                | timestamp with time zone | YES         | now()                |
| journal_audit                            | actif                     | boolean                  | YES         | true                 |
| journal_audit                            | changed_at                | timestamp with time zone | YES         | null                 |
| journal_audit                            | utilisateur_id            | uuid                     | YES         | null                 |
| journaux_utilisateur                     | id                        | uuid                     | NO          | gen_random_uuid()    |
| journaux_utilisateur                     | mama_id                   | uuid                     | NO          | null                 |
| journaux_utilisateur                     | user_id                   | uuid                     | NO          | null                 |
| journaux_utilisateur                     | action                    | text                     | YES         | null                 |
| journaux_utilisateur                     | details                   | jsonb                    | YES         | null                 |
| journaux_utilisateur                     | done_by                   | uuid                     | YES         | null                 |
| journaux_utilisateur                     | created_at                | timestamp with time zone | YES         | now()                |
| journaux_utilisateur                     | updated_at                | timestamp with time zone | YES         | now()                |
| journaux_utilisateur                     | actif                     | boolean                  | YES         | true                 |
| journaux_utilisateur                     | utilisateur_id            | uuid                     | YES         | null                 |
| journaux_utilisateur                     | page                      | text                     | YES         | null                 |
| journaux_utilisateur                     | ip                        | text                     | YES         | null                 |
| journaux_utilisateur                     | date_action               | timestamp with time zone | YES         | null                 |
| lignes_bl                                | id                        | uuid                     | NO          | gen_random_uuid()    |
| lignes_bl                                | bl_id                     | uuid                     | YES         | null                 |
| lignes_bl                                | produit_id                | uuid                     | YES         | null                 |
| lignes_bl                                | quantite                  | numeric                  | YES         | null                 |
| lignes_bl                                | prix                      | numeric                  | YES         | null                 |
| lignes_bl                                | tva                       | numeric                  | YES         | null                 |
| lignes_bl                                | created_at                | timestamp with time zone | YES         | now()                |
| lignes_bl                                | mama_id                   | uuid                     | YES         | null                 |
| lignes_bl                                | quantite_recue            | numeric                  | YES         | null                 |
| lignes_bl                                | prix_unitaire             | numeric                  | YES         | null                 |
| lignes_bl                                | commentaire               | text                     | YES         | null                 |
| lignes_bl                                | actif                     | boolean                  | YES         | true                 |
| lignes_bl                                | updated_at                | timestamp with time zone | YES         | now()                |
| logs_securite                            | id                        | uuid                     | NO          | gen_random_uuid()    |
| logs_securite                            | mama_id                   | uuid                     | YES         | null                 |
| logs_securite                            | user_id                   | uuid                     | YES         | null                 |
| logs_securite                            | type                      | text                     | YES         | null                 |
| logs_securite                            | ip                        | text                     | YES         | null                 |
| logs_securite                            | navigateur                | text                     | YES         | null                 |
| logs_securite                            | description               | text                     | YES         | null                 |
| logs_securite                            | created_at                | timestamp with time zone | YES         | now()                |
| logs_securite                            | utilisateur_id            | uuid                     | YES         | null                 |
| logs_securite                            | type_evenement            | text                     | YES         | null                 |
| logs_securite                            | details                   | jsonb                    | YES         | null                 |
| logs_securite                            | date_evenement            | timestamp with time zone | YES         | null                 |
| logs_securite                            | niveau_criticite          | text                     | YES         | null                 |
| mamas                                    | id                        | uuid                     | NO          | gen_random_uuid()    |
| mamas                                    | created_at                | timestamp with time zone | YES         | now()                |
| mamas                                    | updated_at                | timestamp with time zone | YES         | now()                |
| mamas                                    | actif                     | boolean                  | YES         | true                 |
| mamas                                    | nom                       | text                     | YES         | null                 |
| mamas                                    | logo_url                  | text                     | YES         | null                 |
| mamas                                    | primary_color             | text                     | YES         | null                 |
| mamas                                    | secondary_color           | text                     | YES         | null                 |
| mamas                                    | email_envoi               | text                     | YES         | null                 |
| mamas                                    | email_alertes             | text                     | YES         | null                 |
| mamas                                    | dark_mode                 | boolean                  | YES         | false                |
| mamas                                    | langue                    | text                     | YES         | 'fr'::text           |
| mamas                                    | monnaie                   | text                     | YES         | 'EUR'::text          |
| mamas                                    | timezone                  | text                     | YES         | 'Europe/Paris'::text |
| mamas                                    | rgpd_text                 | text                     | YES         | null                 |
| mamas                                    | mentions_legales          | text                     | YES         | null                 |
| mamas                                    | ville                     | text                     | YES         | null                 |
| menu_fiches                              | id                        | uuid                     | NO          | gen_random_uuid()    |
| menu_fiches                              | mama_id                   | uuid                     | NO          | null                 |
| menu_fiches                              | menu_id                   | uuid                     | NO          | null                 |
| menu_fiches                              | fiche_id                  | uuid                     | NO          | null                 |
| menu_fiches                              | created_at                | timestamp with time zone | YES         | now()                |
| menu_fiches                              | updated_at                | timestamp with time zone | YES         | now()                |
| menu_fiches                              | actif                     | boolean                  | YES         | true                 |
| menus                                    | id                        | uuid                     | NO          | gen_random_uuid()    |
| menus                                    | mama_id                   | uuid                     | NO          | null                 |
| menus                                    | nom                       | text                     | NO          | null                 |
| menus                                    | date                      | date                     | YES         | null                 |
| menus                                    | created_at                | timestamp with time zone | YES         | now()                |
| menus                                    | updated_at                | timestamp with time zone | YES         | now()                |
| menus                                    | actif                     | boolean                  | YES         | true                 |
| menus_jour                               | id                        | uuid                     | NO          | gen_random_uuid()    |
| menus_jour                               | mama_id                   | uuid                     | NO          | null                 |
| menus_jour                               | nom                       | text                     | NO          | null                 |
| menus_jour                               | date                      | date                     | NO          | null                 |
| menus_jour                               | prix_vente_ttc            | numeric                  | YES         | null                 |
| menus_jour                               | tva                       | numeric                  | YES         | 5.5                  |
| menus_jour                               | created_at                | timestamp with time zone | YES         | now()                |
| menus_jour                               | updated_at                | timestamp with time zone | YES         | now()                |
| menus_jour                               | actif                     | boolean                  | YES         | true                 |
| menus_jour_fiches                        | id                        | uuid                     | NO          | gen_random_uuid()    |
| menus_jour_fiches                        | menu_jour_id              | uuid                     | NO          | null                 |
| menus_jour_fiches                        | fiche_id                  | uuid                     | NO          | null                 |
| menus_jour_fiches                        | mama_id                   | uuid                     | NO          | null                 |
| menus_jour_fiches                        | quantite                  | numeric                  | YES         | 1                    |
| menus_jour_fiches                        | created_at                | timestamp with time zone | YES         | now()                |
| menus_jour_fiches                        | updated_at                | timestamp with time zone | YES         | now()                |
| menus_jour_fiches                        | actif                     | boolean                  | YES         | true                 |
| mouvements_centres_cout                  | id                        | uuid                     | NO          | gen_random_uuid()    |
| mouvements_centres_cout                  | mama_id                   | uuid                     | NO          | null                 |
| mouvements_centres_cout                  | mouvement_id              | uuid                     | YES         | null                 |
| mouvements_centres_cout                  | centre_cout_id            | uuid                     | NO          | null                 |
| mouvements_centres_cout                  | quantite                  | numeric                  | YES         | null                 |
| mouvements_centres_cout                  | valeur                    | numeric                  | YES         | null                 |
| mouvements_centres_cout                  | created_at                | timestamp with time zone | YES         | now()                |
| mouvements_centres_cout                  | updated_at                | timestamp with time zone | YES         | now()                |
| mouvements_centres_cout                  | actif                     | boolean                  | YES         | true                 |
| notification_preferences                 | id                        | uuid                     | NO          | gen_random_uuid()    |
| notification_preferences                 | utilisateur_id            | uuid                     | YES         | null                 |
| notification_preferences                 | mama_id                   | uuid                     | YES         | null                 |
| notification_preferences                 | email_enabled             | boolean                  | YES         | true                 |
| notification_preferences                 | webhook_enabled           | boolean                  | YES         | false                |
| notification_preferences                 | webhook_url               | text                     | YES         | null                 |
| notification_preferences                 | webhook_token             | text                     | YES         | null                 |
| notification_preferences                 | updated_at                | timestamp with time zone | YES         | now()                |
| notifications                            | id                        | uuid                     | NO          | gen_random_uuid()    |
| notifications                            | mama_id                   | uuid                     | YES         | null                 |
| notifications                            | user_id                   | uuid                     | YES         | null                 |
| notifications                            | titre                     | text                     | YES         | null                 |
| notifications                            | texte                     | text                     | YES         | null                 |
| notifications                            | lien                      | text                     | YES         | null                 |
| notifications                            | type                      | text                     | YES         | null                 |
| notifications                            | lu                        | boolean                  | YES         | false                |
| notifications                            | created_at                | timestamp with time zone | YES         | now()                |
| notifications                            | actif                     | boolean                  | YES         | true                 |
| notifications                            | utilisateur_id            | uuid                     | YES         | null                 |
| parametres                               | id                        | uuid                     | NO          | gen_random_uuid()    |
| parametres                               | mama_id                   | uuid                     | NO          | null                 |
| parametres                               | nom                       | text                     | YES         | null                 |
| parametres                               | logo                      | text                     | YES         | null                 |
| parametres                               | contacts                  | jsonb                    | YES         | null                 |
| parametres                               | created_at                | timestamp with time zone | YES         | now()                |
| parametres                               | updated_at                | timestamp with time zone | YES         | now()                |
| parametres                               | actif                     | boolean                  | YES         | true                 |
| permissions                              | id                        | uuid                     | NO          | gen_random_uuid()    |
| permissions                              | mama_id                   | uuid                     | NO          | null                 |
| permissions                              | role_id                   | uuid                     | NO          | null                 |
| permissions                              | user_id                   | uuid                     | YES         | null                 |
| permissions                              | module                    | text                     | YES         | null                 |
| permissions                              | droit                     | text                     | YES         | null                 |
| permissions                              | created_at                | timestamp with time zone | YES         | now()                |
| permissions                              | updated_at                | timestamp with time zone | YES         | now()                |
| permissions                              | actif                     | boolean                  | YES         | true                 |
| pertes                                   | id                        | uuid                     | NO          | gen_random_uuid()    |
| pertes                                   | mama_id                   | uuid                     | NO          | null                 |
| pertes                                   | produit_id                | uuid                     | NO          | null                 |
| pertes                                   | centre_cout_id            | uuid                     | YES         | null                 |
| pertes                                   | date_perte                | date                     | YES         | null                 |
| pertes                                   | quantite                  | numeric                  | YES         | null                 |
| pertes                                   | motif                     | text                     | YES         | null                 |
| pertes                                   | created_by                | uuid                     | YES         | null                 |
| pertes                                   | created_at                | timestamp with time zone | YES         | now()                |
| pertes                                   | updated_at                | timestamp with time zone | YES         | now()                |
| pertes                                   | actif                     | boolean                  | YES         | true                 |
| planning_previsionnel                    | id                        | uuid                     | NO          | gen_random_uuid()    |
| planning_previsionnel                    | mama_id                   | uuid                     | YES         | null                 |
| planning_previsionnel                    | date_prevue               | date                     | YES         | null                 |
| planning_previsionnel                    | quantite                  | numeric                  | YES         | null                 |
| planning_previsionnel                    | produit_id                | uuid                     | YES         | null                 |
| planning_previsionnel                    | created_at                | timestamp with time zone | YES         | now()                |
| produits                                 | id                        | uuid                     | NO          | gen_random_uuid()    |
| produits                                 | mama_id                   | uuid                     | NO          | null                 |
| produits                                 | nom                       | text                     | NO          | null                 |
| produits                                 | created_at                | timestamp with time zone | YES         | now()                |
| produits                                 | updated_at                | timestamp with time zone | YES         | now()                |
| produits                                 | actif                     | boolean                  | YES         | true                 |
| produits                                 | famille_id                | uuid                     | YES         | null                 |
| produits                                 | unite_id                  | uuid                     | YES         | null                 |
| produits                                 | code                      | text                     | YES         | null                 |
| produits                                 | image                     | text                     | YES         | null                 |
| produits                                 | allergenes                | text                     | YES         | null                 |
| produits                                 | pmp                       | numeric                  | YES         | null                 |
| produits                                 | stock_reel                | numeric                  | YES         | null                 |
| produits                                 | stock_min                 | numeric                  | YES         | null                 |
| produits                                 | stock_theorique           | numeric                  | YES         | null                 |
| produits                                 | main_supplier_id          | uuid                     | YES         | null                 |
| produits                                 | dernier_prix              | numeric                  | YES         | null                 |
| produits                                 | fiche_technique_id        | uuid                     | YES         | null                 |
| produits                                 | prix_vente                | numeric                  | YES         | null                 |
| promotion_produits                       | id                        | uuid                     | NO          | gen_random_uuid()    |
| promotion_produits                       | mama_id                   | uuid                     | NO          | null                 |
| promotion_produits                       | promotion_id              | uuid                     | NO          | null                 |
| promotion_produits                       | produit_id                | uuid                     | NO          | null                 |
| promotion_produits                       | discount                  | numeric                  | YES         | null                 |
| promotion_produits                       | prix_promo                | numeric                  | YES         | null                 |
| promotion_produits                       | created_at                | timestamp with time zone | YES         | now()                |
| promotion_produits                       | updated_at                | timestamp with time zone | YES         | now()                |
| promotion_produits                       | actif                     | boolean                  | YES         | true                 |
| promotions                               | id                        | uuid                     | NO          | gen_random_uuid()    |
| promotions                               | mama_id                   | uuid                     | NO          | null                 |
| promotions                               | nom                       | text                     | YES         | null                 |
| promotions                               | description               | text                     | YES         | null                 |
| promotions                               | date_debut                | date                     | YES         | null                 |
| promotions                               | date_fin                  | date                     | YES         | null                 |
| promotions                               | created_at                | timestamp with time zone | YES         | now()                |
| promotions                               | updated_at                | timestamp with time zone | YES         | now()                |
| promotions                               | actif                     | boolean                  | YES         | true                 |
| regles_alertes                           | id                        | uuid                     | NO          | gen_random_uuid()    |
| regles_alertes                           | mama_id                   | uuid                     | YES         | null                 |
| regles_alertes                           | produit_id                | uuid                     | YES         | null                 |
| regles_alertes                           | type                      | text                     | YES         | null                 |
| regles_alertes                           | seuil                     | numeric                  | YES         | null                 |
| regles_alertes                           | actif                     | boolean                  | YES         | true                 |
| regles_alertes                           | created_at                | timestamp with time zone | YES         | now()                |
| requisition_lignes                       | id                        | uuid                     | NO          | gen_random_uuid()    |
| requisition_lignes                       | mama_id                   | uuid                     | NO          | null                 |
| requisition_lignes                       | requisition_id            | uuid                     | NO          | null                 |
| requisition_lignes                       | produit_id                | uuid                     | NO          | null                 |
| requisition_lignes                       | quantite_demandee         | numeric                  | YES         | null                 |
| requisition_lignes                       | stock_theorique_avant     | numeric                  | YES         | null                 |
| requisition_lignes                       | stock_theorique_apres     | numeric                  | YES         | null                 |
| requisition_lignes                       | commentaire               | text                     | YES         | null                 |
| requisition_lignes                       | actif                     | boolean                  | YES         | true                 |
| requisition_lignes                       | created_at                | timestamp with time zone | YES         | now()                |
| requisition_lignes                       | updated_at                | timestamp with time zone | YES         | now()                |
| requisitions                             | id                        | uuid                     | NO          | gen_random_uuid()    |
| requisitions                             | mama_id                   | uuid                     | NO          | null                 |
| requisitions                             | produit_id                | uuid                     | NO          | null                 |
| requisitions                             | zone_id                   | uuid                     | NO          | null                 |
| requisitions                             | date_requisition          | date                     | YES         | null                 |
| requisitions                             | quantite                  | numeric                  | YES         | null                 |
| requisitions                             | type                      | text                     | YES         | null                 |
| requisitions                             | commentaire               | text                     | YES         | null                 |
| requisitions                             | auteur_id                 | uuid                     | YES         | null                 |
| requisitions                             | created_at                | timestamp with time zone | YES         | now()                |
| requisitions                             | updated_at                | timestamp with time zone | YES         | now()                |
| requisitions                             | actif                     | boolean                  | YES         | true                 |
| requisitions                             | utilisateur_id            | uuid                     | YES         | null                 |
| requisitions                             | date_demande              | date                     | YES         | null                 |
| requisitions                             | statut                    | text                     | YES         | 'brouillon'::text    |
| roles                                    | id                        | uuid                     | NO          | gen_random_uuid()    |
| roles                                    | nom                       | text                     | NO          | null                 |
| roles                                    | created_at                | timestamp with time zone | YES         | now()                |
| roles                                    | updated_at                | timestamp with time zone | YES         | now()                |
| roles                                    | actif                     | boolean                  | YES         | true                 |
| roles                                    | mama_id                   | uuid                     | YES         | null                 |
| roles                                    | description               | text                     | YES         | null                 |
| roles                                    | access_rights             | jsonb                    | YES         | '[]'::jsonb          |
| signalements                             | id                        | uuid                     | NO          | gen_random_uuid()    |
| signalements                             | mama_id                   | uuid                     | YES         | null                 |
| signalements                             | created_by                | uuid                     | YES         | null                 |
| signalements                             | type                      | text                     | YES         | null                 |
| signalements                             | description               | text                     | YES         | null                 |
| signalements                             | date                      | timestamp with time zone | YES         | null                 |
| signalements                             | created_at                | timestamp with time zone | YES         | now()                |
| stock_mouvements                         | id                        | uuid                     | NO          | gen_random_uuid()    |
| stock_mouvements                         | mama_id                   | uuid                     | NO          | null                 |
| stock_mouvements                         | inventaire_id             | uuid                     | NO          | null                 |
| stock_mouvements                         | created_at                | timestamp with time zone | YES         | now()                |
| stock_mouvements                         | updated_at                | timestamp with time zone | YES         | now()                |
| stock_mouvements                         | actif                     | boolean                  | YES         | true                 |
| stock_mouvements                         | date                      | timestamp with time zone | YES         | null                 |
| stock_mouvements                         | type                      | text                     | YES         | null                 |
| stock_mouvements                         | quantite                  | numeric                  | YES         | null                 |
| stock_mouvements                         | produit_id                | uuid                     | YES         | null                 |
| stock_mouvements                         | zone_source_id            | uuid                     | YES         | null                 |
| stock_mouvements                         | zone_destination_id       | uuid                     | YES         | null                 |
| stock_mouvements                         | commentaire               | text                     | YES         | null                 |
| stock_mouvements                         | auteur_id                 | uuid                     | YES         | null                 |
| stock_mouvements                         | zone_id                   | uuid                     | YES         | null                 |
| stocks                                   | id                        | uuid                     | NO          | gen_random_uuid()    |
| stocks                                   | mama_id                   | uuid                     | NO          | null                 |
| stocks                                   | zone_id                   | uuid                     | NO          | null                 |
| stocks                                   | produit_id                | uuid                     | NO          | null                 |
| stocks                                   | quantite                  | numeric                  | YES         | null                 |
| stocks                                   | created_at                | timestamp with time zone | YES         | now()                |
| stocks                                   | updated_at                | timestamp with time zone | YES         | now()                |
| stocks                                   | actif                     | boolean                  | YES         | true                 |
| tableaux_de_bord                         | id                        | uuid                     | NO          | gen_random_uuid()    |
| tableaux_de_bord                         | mama_id                   | uuid                     | YES         | null                 |
| tableaux_de_bord                         | nom                       | text                     | YES         | null                 |
| tableaux_de_bord                         | created_at                | timestamp with time zone | YES         | now()                |
| tableaux_de_bord                         | utilisateur_id            | uuid                     | YES         | null                 |
| tache_assignations                       | id                        | uuid                     | NO          | gen_random_uuid()    |
| tache_assignations                       | mama_id                   | uuid                     | NO          | null                 |
| tache_assignations                       | tache_id                  | uuid                     | NO          | null                 |
| tache_assignations                       | utilisateur_id            | uuid                     | NO          | null                 |
| tache_assignations                       | statut                    | text                     | YES         | 'a_faire'::text      |
| tache_assignations                       | commentaire               | text                     | YES         | null                 |
| tache_assignations                       | date_realisation          | timestamp with time zone | YES         | null                 |
| tache_assignations                       | created_at                | timestamp with time zone | YES         | now()                |
| tache_assignations                       | updated_at                | timestamp with time zone | YES         | now()                |
| tache_assignations                       | actif                     | boolean                  | YES         | true                 |
| tache_instances                          | id                        | uuid                     | NO          | gen_random_uuid()    |
| tache_instances                          | mama_id                   | uuid                     | NO          | null                 |
| tache_instances                          | tache_id                  | uuid                     | NO          | null                 |
| tache_instances                          | date_echeance             | date                     | YES         | null                 |
| tache_instances                          | statut                    | text                     | YES         | null                 |
| tache_instances                          | done_by                   | uuid                     | YES         | null                 |
| tache_instances                          | created_at                | timestamp with time zone | YES         | now()                |
| tache_instances                          | updated_at                | timestamp with time zone | YES         | now()                |
| tache_instances                          | actif                     | boolean                  | YES         | true                 |
| taches                                   | id                        | uuid                     | NO          | gen_random_uuid()    |
| taches                                   | mama_id                   | uuid                     | NO          | null                 |
| taches                                   | titre                     | text                     | NO          | null                 |
| taches                                   | description               | text                     | YES         | null                 |
| taches                                   | assignes                  | ARRAY                    | YES         | null                 |
| taches                                   | date_debut                | date                     | YES         | null                 |
| taches                                   | delai_jours               | integer                  | YES         | null                 |
| taches                                   | date_echeance             | date                     | YES         | null                 |
| taches                                   | recurrente                | boolean                  | YES         | null                 |
| taches                                   | frequence                 | text                     | YES         | null                 |
| taches                                   | priorite                  | text                     | YES         | null                 |
| taches                                   | statut                    | text                     | YES         | null                 |
| taches                                   | created_by                | uuid                     | YES         | null                 |
| taches                                   | created_at                | timestamp with time zone | YES         | now()                |
| taches                                   | updated_at                | timestamp with time zone | YES         | now()                |
| taches                                   | actif                     | boolean                  | YES         | true                 |
| taches                                   | utilisateur_id            | uuid                     | YES         | null                 |
| tooltips                                 | id                        | uuid                     | NO          | gen_random_uuid()    |
| tooltips                                 | mama_id                   | uuid                     | YES         | null                 |
| tooltips                                 | champ                     | text                     | YES         | null                 |
| tooltips                                 | texte                     | text                     | YES         | null                 |
| tooltips                                 | created_at                | timestamp with time zone | YES         | now()                |
| transfert_lignes                         | id                        | uuid                     | NO          | gen_random_uuid()    |
| transfert_lignes                         | transfert_id              | uuid                     | NO          | null                 |
| transfert_lignes                         | produit_id                | uuid                     | NO          | null                 |
| transfert_lignes                         | quantite                  | numeric                  | NO          | null                 |
| transfert_lignes                         | commentaire               | text                     | YES         | null                 |
| transfert_lignes                         | actif                     | boolean                  | YES         | true                 |
| transferts                               | id                        | uuid                     | NO          | gen_random_uuid()    |
| transferts                               | mama_id                   | uuid                     | NO          | null                 |
| transferts                               | produit_id                | uuid                     | NO          | null                 |
| transferts                               | quantite                  | numeric                  | YES         | null                 |
| transferts                               | motif                     | text                     | YES         | null                 |
| transferts                               | date_transfert            | date                     | YES         | null                 |
| transferts                               | created_by                | uuid                     | YES         | null                 |
| transferts                               | created_at                | timestamp with time zone | YES         | now()                |
| transferts                               | updated_at                | timestamp with time zone | YES         | now()                |
| transferts                               | actif                     | boolean                  | YES         | true                 |
| transferts                               | zone_source_id            | uuid                     | YES         | null                 |
| transferts                               | zone_dest_id              | uuid                     | YES         | null                 |
| transferts                               | commentaire               | text                     | YES         | null                 |
| transferts                               | utilisateur_id            | uuid                     | YES         | null                 |
| unites                                   | id                        | uuid                     | NO          | uuid_generate_v4()   |
| unites                                   | nom                       | text                     | NO          | null                 |
| unites                                   | mama_id                   | uuid                     | NO          | null                 |
| unites                                   | actif                     | boolean                  | YES         | true                 |
| unites                                   | created_at                | timestamp with time zone | YES         | now()                |
| unites                                   | populaire                 | boolean                  | YES         | false                |
| unites                                   | updated_at                | timestamp with time zone | YES         | now()                |
| unites_equivalentes                      | id                        | uuid                     | NO          | gen_random_uuid()    |
| unites_equivalentes                      | mama_id                   | uuid                     | NO          | null                 |
| unites_equivalentes                      | unite_src                 | uuid                     | NO          | null                 |
| unites_equivalentes                      | unite_dst                 | uuid                     | NO          | null                 |
| unites_equivalentes                      | coefficient               | numeric                  | NO          | null                 |
| unites_equivalentes                      | actif                     | boolean                  | YES         | true                 |
| unites_equivalentes                      | created_at                | timestamp with time zone | YES         | now()                |
| unites_equivalentes                      | updated_at                | timestamp with time zone | YES         | now()                |
| usage_stats                              | id                        | uuid                     | NO          | gen_random_uuid()    |
| usage_stats                              | mama_id                   | uuid                     | YES         | null                 |
| usage_stats                              | user_id                   | uuid                     | YES         | null                 |
| usage_stats                              | module                    | text                     | YES         | null                 |
| usage_stats                              | timestamp                 | timestamp with time zone | YES         | now()                |
| users                                    | id                        | uuid                     | NO          | gen_random_uuid()    |
| users                                    | username                  | text                     | NO          | null                 |
| users                                    | created_at                | timestamp with time zone | YES         | now()                |
| users                                    | updated_at                | timestamp with time zone | YES         | now()                |
| users                                    | actif                     | boolean                  | YES         | true                 |
| utilisateurs                             | id                        | uuid                     | NO          | gen_random_uuid()    |
| utilisateurs                             | mama_id                   | uuid                     | NO          | null                 |
| utilisateurs                             | nom                       | text                     | YES         | null                 |
| utilisateurs                             | created_at                | timestamp with time zone | YES         | now()                |
| utilisateurs                             | updated_at                | timestamp with time zone | YES         | now()                |
| utilisateurs                             | actif                     | boolean                  | YES         | true                 |
| utilisateurs                             | role_id                   | uuid                     | YES         | null                 |
| utilisateurs                             | access_rights             | jsonb                    | YES         | '[]'::jsonb          |
| utilisateurs                             | auth_id                   | uuid                     | YES         | null                 |
| utilisateurs                             | email                     | text                     | YES         | null                 |
| utilisateurs                             | role                      | text                     | YES         | null                 |
| utilisateurs                             | invite_pending            | boolean                  | YES         | false                |
| utilisateurs_complets                    | id                        | uuid                     | YES         | null                 |
| utilisateurs_complets                    | nom                       | text                     | YES         | null                 |
| utilisateurs_complets                    | mama_id                   | uuid                     | YES         | null                 |
| utilisateurs_complets                    | created_at                | timestamp with time zone | YES         | null                 |
| utilisateurs_complets                    | updated_at                | timestamp with time zone | YES         | null                 |
| utilisateurs_complets                    | actif                     | boolean                  | YES         | null                 |
| utilisateurs_complets                    | role                      | text                     | YES         | null                 |
| v_analytique_stock                       | date                      | timestamp with time zone | YES         | null                 |
| v_analytique_stock                       | produit_id                | uuid                     | YES         | null                 |
| v_analytique_stock                       | famille                   | text                     | YES         | null                 |
| v_analytique_stock                       | activite                  | text                     | YES         | null                 |
| v_analytique_stock                       | cost_center_id            | uuid                     | YES         | null                 |
| v_analytique_stock                       | cost_center_nom           | text                     | YES         | null                 |
| v_analytique_stock                       | quantite                  | numeric                  | YES         | null                 |
| v_analytique_stock                       | valeur                    | numeric                  | YES         | null                 |
| v_analytique_stock                       | mama_id                   | uuid                     | YES         | null                 |
| v_besoins_previsionnels                  | mama_id                   | uuid                     | YES         | null                 |
| v_besoins_previsionnels                  | menu_id                   | uuid                     | YES         | null                 |
| v_besoins_previsionnels                  | produit_id                | uuid                     | YES         | null                 |
| v_besoins_previsionnels                  | quantite                  | numeric                  | YES         | null                 |
| v_besoins_previsionnels                  | valeur                    | numeric                  | YES         | null                 |
| v_boissons                               | id                        | uuid                     | YES         | null                 |
| v_boissons                               | nom                       | text                     | YES         | null                 |
| v_boissons                               | prix_vente                | numeric                  | YES         | null                 |
| v_boissons                               | created_at                | timestamp with time zone | YES         | null                 |
| v_boissons                               | mama_id                   | uuid                     | YES         | null                 |
| v_boissons                               | famille                   | text                     | YES         | null                 |
| v_boissons                               | unite                     | text                     | YES         | null                 |
| v_boissons                               | fiche_id                  | uuid                     | YES         | null                 |
| v_boissons                               | cout_portion              | numeric                  | YES         | null                 |
| v_cost_center_month                      | mama_id                   | uuid                     | YES         | null                 |
| v_cost_center_month                      | cost_center_id            | uuid                     | YES         | null                 |
| v_cost_center_month                      | nom                       | text                     | YES         | null                 |
| v_cost_center_month                      | mois                      | text                     | YES         | null                 |
| v_cost_center_month                      | total                     | numeric                  | YES         | null                 |
| v_cost_center_monthly                    | mama_id                   | uuid                     | YES         | null                 |
| v_cost_center_monthly                    | nom                       | text                     | YES         | null                 |
| v_cost_center_monthly                    | mois                      | text                     | YES         | null                 |
| v_cost_center_monthly                    | montant                   | numeric                  | YES         | null                 |
| v_ecarts_inventaire                      | mama_id                   | uuid                     | YES         | null                 |
| v_ecarts_inventaire                      | produit_id                | uuid                     | YES         | null                 |
| v_ecarts_inventaire                      | date                      | date                     | YES         | null                 |
| v_ecarts_inventaire                      | zone                      | uuid                     | YES         | null                 |
| v_ecarts_inventaire                      | stock_theorique           | numeric                  | YES         | null                 |
| v_ecarts_inventaire                      | stock_reel                | numeric                  | YES         | null                 |
| v_ecarts_inventaire                      | ecart                     | numeric                  | YES         | null                 |
| v_ecarts_inventaire                      | motif                     | text                     | YES         | null                 |
| v_evolution_achats                       | mama_id                   | uuid                     | YES         | null                 |
| v_evolution_achats                       | produit_id                | uuid                     | YES         | null                 |
| v_evolution_achats                       | mois                      | text                     | YES         | null                 |
| v_evolution_achats                       | montant                   | numeric                  | YES         | null                 |
| v_familles_orphelines                    | id                        | uuid                     | YES         | null                 |
| v_familles_orphelines                    | nom                       | text                     | YES         | null                 |
| v_familles_orphelines                    | mama_id                   | uuid                     | YES         | null                 |
| v_familles_orphelines                    | actif                     | boolean                  | YES         | null                 |
| v_familles_orphelines                    | created_at                | timestamp with time zone | YES         | null                 |
| v_familles_orphelines                    | parent_id                 | uuid                     | YES         | null                 |
| v_familles_orphelines                    | populaire                 | boolean                  | YES         | null                 |
| v_familles_orphelines                    | updated_at                | timestamp with time zone | YES         | null                 |
| v_fournisseurs_inactifs                  | mama_id                   | uuid                     | YES         | null                 |
| v_fournisseurs_inactifs                  | fournisseur_id            | uuid                     | YES         | null                 |
| v_fournisseurs_inactifs                  | nom                       | text                     | YES         | null                 |
| v_fournisseurs_inactifs                  | fournisseur_actif         | boolean                  | YES         | null                 |
| v_fournisseurs_inactifs                  | facture_actif             | boolean                  | YES         | null                 |
| v_fournisseurs_inactifs                  | dernier_achat             | date                     | YES         | null                 |
| v_menu_engineering                       | fiche_id                  | uuid                     | YES         | null                 |
| v_menu_engineering                       | nom                       | text                     | YES         | null                 |
| v_menu_engineering                       | famille                   | text                     | YES         | null                 |
| v_menu_engineering                       | prix_vente                | numeric                  | YES         | null                 |
| v_menu_engineering                       | cout_portion              | numeric                  | YES         | null                 |
| v_menu_engineering                       | periode                   | date                     | YES         | null                 |
| v_menu_engineering                       | ventes                    | integer                  | YES         | null                 |
| v_menu_engineering                       | popularite                | numeric                  | YES         | null                 |
| v_menu_engineering                       | marge                     | numeric                  | YES         | null                 |
| v_menu_engineering                       | mama_id                   | uuid                     | YES         | null                 |
| v_monthly_purchases                      | mama_id                   | uuid                     | YES         | null                 |
| v_monthly_purchases                      | mois                      | text                     | YES         | null                 |
| v_monthly_purchases                      | total                     | numeric                  | YES         | null                 |
| v_mouvements_centres_cout_stats          | centre_cout_id            | uuid                     | YES         | null                 |
| v_mouvements_centres_cout_stats          | centre_cout               | text                     | YES         | null                 |
| v_mouvements_centres_cout_stats          | total_quantite            | numeric                  | YES         | null                 |
| v_mouvements_centres_cout_stats          | total_valeur              | numeric                  | YES         | null                 |
| v_notifications_non_lues                 | utilisateur_id            | uuid                     | YES         | null                 |
| v_notifications_non_lues                 | mama_id                   | uuid                     | YES         | null                 |
| v_notifications_non_lues                 | total_non_lues            | bigint                   | YES         | null                 |
| v_performance_fiches                     | mama_id                   | uuid                     | YES         | null                 |
| v_performance_fiches                     | fiche_id                  | uuid                     | YES         | null                 |
| v_performance_fiches                     | nom                       | text                     | YES         | null                 |
| v_performance_fiches                     | cout                      | numeric                  | YES         | null                 |
| v_performance_fiches                     | volume                    | bigint                   | YES         | null                 |
| v_performance_fiches                     | popularite                | numeric                  | YES         | null                 |
| v_pmp                                    | mama_id                   | uuid                     | YES         | null                 |
| v_pmp                                    | produit_id                | uuid                     | YES         | null                 |
| v_pmp                                    | produit_actif             | boolean                  | YES         | null                 |
| v_pmp                                    | fournisseur_produit_actif | boolean                  | YES         | null                 |
| v_pmp                                    | pmp                       | numeric                  | YES         | null                 |
| v_produits_actifs                        | id                        | uuid                     | YES         | null                 |
| v_produits_actifs                        | mama_id                   | uuid                     | YES         | null                 |
| v_produits_actifs                        | nom                       | text                     | YES         | null                 |
| v_produits_actifs                        | created_at                | timestamp with time zone | YES         | null                 |
| v_produits_actifs                        | updated_at                | timestamp with time zone | YES         | null                 |
| v_produits_actifs                        | actif                     | boolean                  | YES         | null                 |
| v_produits_actifs                        | famille_id                | uuid                     | YES         | null                 |
| v_produits_actifs                        | unite_id                  | uuid                     | YES         | null                 |
| v_produits_actifs                        | code                      | text                     | YES         | null                 |
| v_produits_actifs                        | image                     | text                     | YES         | null                 |
| v_produits_actifs                        | allergenes                | text                     | YES         | null                 |
| v_produits_actifs                        | pmp                       | numeric                  | YES         | null                 |
| v_produits_actifs                        | stock_reel                | numeric                  | YES         | null                 |
| v_produits_actifs                        | stock_min                 | numeric                  | YES         | null                 |
| v_produits_actifs                        | stock_theorique           | numeric                  | YES         | null                 |
| v_produits_actifs                        | main_supplier_id          | uuid                     | YES         | null                 |
| v_produits_actifs                        | dernier_prix              | numeric                  | YES         | null                 |
| v_produits_dernier_prix                  | id                        | uuid                     | YES         | null                 |
| v_produits_dernier_prix                  | nom                       | text                     | YES         | null                 |
| v_produits_dernier_prix                  | famille_id                | uuid                     | YES         | null                 |
| v_produits_dernier_prix                  | famille                   | text                     | YES         | null                 |
| v_produits_dernier_prix                  | unite_id                  | uuid                     | YES         | null                 |
| v_produits_dernier_prix                  | unite                     | text                     | YES         | null                 |
| v_produits_dernier_prix                  | stock_reel                | numeric                  | YES         | null                 |
| v_produits_dernier_prix                  | stock_min                 | numeric                  | YES         | null                 |
| v_produits_dernier_prix                  | fournisseur_id            | uuid                     | YES         | null                 |
| v_produits_dernier_prix                  | fournisseur               | text                     | YES         | null                 |
| v_produits_dernier_prix                  | dernier_prix              | numeric                  | YES         | null                 |
| v_produits_dernier_prix                  | date_livraison            | date                     | YES         | null                 |
| v_produits_dernier_prix                  | mama_id                   | uuid                     | YES         | null                 |
| v_produits_inactifs                      | id                        | uuid                     | YES         | null                 |
| v_produits_inactifs                      | mama_id                   | uuid                     | YES         | null                 |
| v_produits_inactifs                      | nom                       | text                     | YES         | null                 |
| v_produits_inactifs                      | created_at                | timestamp with time zone | YES         | null                 |
| v_produits_inactifs                      | updated_at                | timestamp with time zone | YES         | null                 |
| v_produits_inactifs                      | actif                     | boolean                  | YES         | null                 |
| v_produits_inactifs                      | famille_id                | uuid                     | YES         | null                 |
| v_produits_inactifs                      | unite_id                  | uuid                     | YES         | null                 |
| v_produits_inactifs                      | code                      | text                     | YES         | null                 |
| v_produits_inactifs                      | image                     | text                     | YES         | null                 |
| v_produits_inactifs                      | allergenes                | text                     | YES         | null                 |
| v_produits_inactifs                      | pmp                       | numeric                  | YES         | null                 |
| v_produits_inactifs                      | stock_reel                | numeric                  | YES         | null                 |
| v_produits_inactifs                      | stock_min                 | numeric                  | YES         | null                 |
| v_produits_inactifs                      | stock_theorique           | numeric                  | YES         | null                 |
| v_produits_inactifs                      | main_supplier_id          | uuid                     | YES         | null                 |
| v_produits_inactifs                      | dernier_prix              | numeric                  | YES         | null                 |
| v_reco_stockmort                         | mama_id                   | uuid                     | YES         | null                 |
| v_reco_stockmort                         | produit_id                | uuid                     | YES         | null                 |
| v_reco_stockmort                         | nom                       | text                     | YES         | null                 |
| v_reco_stockmort                         | jours_inactif             | double precision         | YES         | null                 |
| v_reco_surcout                           | mama_id                   | uuid                     | YES         | null                 |
| v_reco_surcout                           | produit_id                | uuid                     | YES         | null                 |
| v_reco_surcout                           | nom                       | text                     | YES         | null                 |
| v_reco_surcout                           | variation_pct             | numeric                  | YES         | null                 |
| v_requisition_stock                      | ligne_id                  | uuid                     | YES         | null                 |
| v_requisition_stock                      | requisition_id            | uuid                     | YES         | null                 |
| v_requisition_stock                      | zone_id                   | uuid                     | YES         | null                 |
| v_requisition_stock                      | produit_id                | uuid                     | YES         | null                 |
| v_requisition_stock                      | stock_reel                | numeric                  | YES         | null                 |
| v_requisition_stock                      | quantite_demandee         | numeric                  | YES         | null                 |
| v_requisition_stock                      | stock_apres               | numeric                  | YES         | null                 |
| v_requisition_stock                      | mama_id                   | uuid                     | YES         | null                 |
| v_stocks                                 | mama_id                   | uuid                     | YES         | null                 |
| v_stocks                                 | produit_id                | uuid                     | YES         | null                 |
| v_stocks                                 | stock                     | numeric                  | YES         | null                 |
| v_tendance_prix_produit                  | mama_id                   | uuid                     | YES         | null                 |
| v_tendance_prix_produit                  | produit_id                | uuid                     | YES         | null                 |
| v_tendance_prix_produit                  | mois                      | text                     | YES         | null                 |
| v_tendance_prix_produit                  | prix_moyen                | numeric                  | YES         | null                 |
| v_transferts_historique                  | transfert_id              | uuid                     | YES         | null                 |
| v_transferts_historique                  | date_transfert            | date                     | YES         | null                 |
| v_transferts_historique                  | zone_source_id            | uuid                     | YES         | null                 |
| v_transferts_historique                  | zone_source               | text                     | YES         | null                 |
| v_transferts_historique                  | zone_dest_id              | uuid                     | YES         | null                 |
| v_transferts_historique                  | zone_dest                 | text                     | YES         | null                 |
| v_transferts_historique                  | produit_id                | uuid                     | YES         | null                 |
| v_transferts_historique                  | produit                   | text                     | YES         | null                 |
| v_transferts_historique                  | quantite                  | numeric                  | YES         | null                 |
| v_transferts_historique                  | commentaire               | text                     | YES         | null                 |
| v_transferts_historique                  | utilisateur_id            | uuid                     | YES         | null                 |
| v_transferts_historique                  | created_at                | timestamp with time zone | YES         | null                 |
| v_unites_orphelines                      | id                        | uuid                     | YES         | null                 |
| v_unites_orphelines                      | nom                       | text                     | YES         | null                 |
| v_unites_orphelines                      | mama_id                   | uuid                     | YES         | null                 |
| v_unites_orphelines                      | actif                     | boolean                  | YES         | null                 |
| v_unites_orphelines                      | created_at                | timestamp with time zone | YES         | null                 |
| v_unites_orphelines                      | populaire                 | boolean                  | YES         | null                 |
| v_unites_orphelines                      | updated_at                | timestamp with time zone | YES         | null                 |
| validation_requests                      | id                        | uuid                     | NO          | gen_random_uuid()    |
| validation_requests                      | mama_id                   | uuid                     | YES         | null                 |
| validation_requests                      | user_id                   | uuid                     | YES         | null                 |
| validation_requests                      | module                    | text                     | YES         | null                 |
| validation_requests                      | payload                   | jsonb                    | YES         | null                 |
| validation_requests                      | statut                    | text                     | YES         | null                 |
| validation_requests                      | created_at                | timestamp with time zone | YES         | now()                |
| validation_requests                      | actif                     | boolean                  | YES         | true                 |
| validation_requests                      | updated_at                | timestamp with time zone | YES         | now()                |
| ventes_boissons                          | id                        | uuid                     | NO          | gen_random_uuid()    |
| ventes_boissons                          | mama_id                   | uuid                     | NO          | null                 |
| ventes_boissons                          | boisson_id                | uuid                     | YES         | null                 |
| ventes_boissons                          | quantite                  | numeric                  | YES         | null                 |
| ventes_boissons                          | date_vente                | date                     | YES         | null                 |
| ventes_boissons                          | created_by                | uuid                     | YES         | null                 |
| ventes_boissons                          | created_at                | timestamp with time zone | YES         | now()                |
| ventes_boissons                          | updated_at                | timestamp with time zone | YES         | now()                |
| ventes_boissons                          | actif                     | boolean                  | YES         | true                 |
| ventes_fiches_carte                      | id                        | uuid                     | NO          | gen_random_uuid()    |
| ventes_fiches_carte                      | mama_id                   | uuid                     | NO          | null                 |
| ventes_fiches_carte                      | fiche_id                  | uuid                     | NO          | null                 |
| ventes_fiches_carte                      | periode                   | date                     | YES         | null                 |
| ventes_fiches_carte                      | ventes                    | integer                  | YES         | null                 |
| ventes_fiches_carte                      | created_at                | timestamp with time zone | YES         | now()                |
| ventes_fiches_carte                      | updated_at                | timestamp with time zone | YES         | now()                |
| ventes_fiches_carte                      | actif                     | boolean                  | YES         | true                 |
| vue_stock_disponible_par_produit_et_zone | produit                   | text                     | YES         | null                 |
| vue_stock_disponible_par_produit_et_zone | unite                     | text                     | YES         | null                 |
| vue_stock_disponible_par_produit_et_zone | famille                   | text                     | YES         | null                 |
| vue_stock_disponible_par_produit_et_zone | zone_stock                | text                     | YES         | null                 |
| vue_stock_disponible_par_produit_et_zone | quantite                  | numeric                  | YES         | null                 |
| vue_stock_disponible_par_produit_et_zone | updated_at                | timestamp with time zone | YES         | null                 |
| vue_stock_disponible_par_produit_et_zone | mama_id                   | uuid                     | YES         | null                 |
| zones_stock                              | id                        | uuid                     | NO          | gen_random_uuid()    |
| zones_stock                              | mama_id                   | uuid                     | NO          | null                 |
| zones_stock                              | nom                       | text                     | NO          | null                 |
| zones_stock                              | created_at                | timestamp with time zone | YES         | now()                |
| zones_stock                              | updated_at                | timestamp with time zone | YES         | now()                |
| zones_stock                              | actif                     | boolean                  | YES         | true                 |
| zones_stock                              | description               | text                     | YES         | null                 |
| zones_stock                              | type_zone                 | text                     | YES         | null                 |


SELECT
    tc.table_name,
    kcu.column_name,
    ccu.table_name AS foreign_table_name,
    ccu.column_name AS foreign_column_name
FROM
    information_schema.table_constraints AS tc
    JOIN information_schema.key_column_usage AS kcu
      ON tc.constraint_name = kcu.constraint_name
     AND tc.table_schema = kcu.table_schema
    JOIN information_schema.constraint_column_usage AS ccu
      ON ccu.constraint_name = tc.constraint_name
     AND ccu.table_schema = tc.table_schema
WHERE tc.constraint_type = 'FOREIGN KEY'
  AND tc.table_schema = 'public'
ORDER BY tc.table_name, kcu.column_name;


| table_name                | column_name         | foreign_table_name | foreign_column_name |
| ------------------------- | ------------------- | ------------------ | ------------------- |
| access_rights             | mama_id             | mamas              | id                  |
| access_rights             | role_id             | roles              | id                  |
| achats                    | mama_id             | mamas              | id                  |
| achats                    | produit_id          | produits           | id                  |
| achats                    | supplier_id         | fournisseurs       | id                  |
| api_keys                  | mama_id             | mamas              | id                  |
| api_keys                  | user_id             | utilisateurs       | id                  |
| bons_livraison            | commande_id         | commandes          | id                  |
| bons_livraison            | facture_id          | factures           | id                  |
| bons_livraison            | fournisseur_id      | fournisseurs       | id                  |
| bons_livraison            | mama_id             | mamas              | id                  |
| catalogue_updates         | fournisseur_id      | fournisseurs       | id                  |
| catalogue_updates         | mama_id             | mamas              | id                  |
| catalogue_updates         | produit_id          | produits           | id                  |
| centres_de_cout           | mama_id             | mamas              | id                  |
| commande_lignes           | commande_id         | commandes          | id                  |
| commande_lignes           | mama_id             | mamas              | id                  |
| commande_lignes           | produit_id          | produits           | id                  |
| commandes                 | bl_id               | bons_livraison     | id                  |
| commandes                 | facture_id          | factures           | id                  |
| commandes                 | fournisseur_id      | fournisseurs       | id                  |
| commandes                 | mama_id             | mamas              | id                  |
| compta_mapping            | mama_id             | mamas              | id                  |
| consentements_utilisateur | mama_id             | mamas              | id                  |
| consentements_utilisateur | user_id             | utilisateurs       | id                  |
| consentements_utilisateur | utilisateur_id      | utilisateurs       | id                  |
| documentation             | mama_id             | mamas              | id                  |
| documents                 | mama_id             | mamas              | id                  |
| etapes_onboarding         | mama_id             | mamas              | id                  |
| facture_lignes            | facture_id          | factures           | id                  |
| facture_lignes            | mama_id             | mamas              | id                  |
| facture_lignes            | produit_id          | produits           | id                  |
| factures                  | fournisseur_id      | fournisseurs       | id                  |
| factures                  | mama_id             | mamas              | id                  |
| familles                  | mama_id             | mamas              | id                  |
| familles                  | parent_id           | familles           | id                  |
| feedback                  | mama_id             | mamas              | id                  |
| feedback                  | user_id             | utilisateurs       | id                  |
| fiche_cout_history        | changed_by          | users              | id                  |
| fiche_cout_history        | fiche_id            | fiches             | id                  |
| fiche_cout_history        | mama_id             | mamas              | id                  |
| fiche_lignes              | fiche_id            | fiches             | id                  |
| fiche_lignes              | mama_id             | mamas              | id                  |
| fiche_lignes              | produit_id          | produits           | id                  |
| fiche_lignes              | sous_fiche_id       | fiches_techniques  | id                  |
| fiche_prix_history        | changed_by          | users              | id                  |
| fiche_prix_history        | fiche_id            | fiches             | id                  |
| fiche_prix_history        | mama_id             | mamas              | id                  |
| fiches                    | mama_id             | mamas              | id                  |
| fiches_techniques         | fiche_id            | fiches             | id                  |
| fiches_techniques         | mama_id             | mamas              | id                  |
| fournisseur_contacts      | fournisseur_id      | fournisseurs       | id                  |
| fournisseur_contacts      | mama_id             | mamas              | id                  |
| fournisseur_notes         | fournisseur_id      | fournisseurs       | id                  |
| fournisseur_notes         | mama_id             | mamas              | id                  |
| fournisseur_produits      | fournisseur_id      | fournisseurs       | id                  |
| fournisseur_produits      | fournisseur_id      | fournisseurs       | id                  |
| fournisseur_produits      | mama_id             | mamas              | id                  |
| fournisseur_produits      | produit_id          | produits           | id                  |
| fournisseur_produits      | produit_id          | produits           | id                  |
| fournisseurs              | mama_id             | mamas              | id                  |
| fournisseurs_api_config   | fournisseur_id      | fournisseurs       | id                  |
| fournisseurs_api_config   | mama_id             | mamas              | id                  |
| gadgets                   | tableau_id          | tableaux_de_bord   | id                  |
| guides_seen               | mama_id             | mamas              | id                  |
| guides_seen               | user_id             | utilisateurs       | id                  |
| inventaire_lignes         | inventaire_id       | inventaires        | id                  |
| inventaire_lignes         | mama_id             | mamas              | id                  |
| inventaire_lignes         | produit_id          | produits           | id                  |
| inventaire_lignes         | zone_id             | zones_stock        | id                  |
| inventaire_zones          | mama_id             | mamas              | id                  |
| inventaires               | mama_id             | mamas              | id                  |
| journal_audit             | changed_by          | users              | id                  |
| journal_audit             | mama_id             | mamas              | id                  |
| journal_audit             | utilisateur_id      | utilisateurs       | id                  |
| journaux_utilisateur      | done_by             | users              | id                  |
| journaux_utilisateur      | mama_id             | mamas              | id                  |
| journaux_utilisateur      | user_id             | users              | id                  |
| journaux_utilisateur      | utilisateur_id      | utilisateurs       | id                  |
| lignes_bl                 | bl_id               | bons_livraison     | id                  |
| lignes_bl                 | mama_id             | mamas              | id                  |
| lignes_bl                 | produit_id          | produits           | id                  |
| logs_securite             | mama_id             | mamas              | id                  |
| logs_securite             | user_id             | utilisateurs       | id                  |
| logs_securite             | utilisateur_id      | utilisateurs       | id                  |
| menu_fiches               | fiche_id            | fiches             | id                  |
| menu_fiches               | mama_id             | mamas              | id                  |
| menu_fiches               | menu_id             | menus              | id                  |
| menus                     | mama_id             | mamas              | id                  |
| menus_jour                | mama_id             | mamas              | id                  |
| menus_jour_fiches         | fiche_id            | fiches_techniques  | id                  |
| menus_jour_fiches         | mama_id             | mamas              | id                  |
| menus_jour_fiches         | menu_jour_id        | menus_jour         | id                  |
| mouvements_centres_cout   | centre_cout_id      | centres_de_cout    | id                  |
| mouvements_centres_cout   | mama_id             | mamas              | id                  |
| notification_preferences  | mama_id             | mamas              | id                  |
| notification_preferences  | utilisateur_id      | utilisateurs       | id                  |
| notifications             | mama_id             | mamas              | id                  |
| notifications             | user_id             | utilisateurs       | id                  |
| notifications             | utilisateur_id      | utilisateurs       | id                  |
| parametres                | mama_id             | mamas              | id                  |
| permissions               | mama_id             | mamas              | id                  |
| permissions               | role_id             | roles              | id                  |
| permissions               | user_id             | users              | id                  |
| pertes                    | centre_cout_id      | centres_de_cout    | id                  |
| pertes                    | created_by          | users              | id                  |
| pertes                    | mama_id             | mamas              | id                  |
| pertes                    | produit_id          | produits           | id                  |
| planning_previsionnel     | mama_id             | mamas              | id                  |
| planning_previsionnel     | produit_id          | produits           | id                  |
| produits                  | famille_id          | familles           | id                  |
| produits                  | fiche_technique_id  | fiches_techniques  | id                  |
| produits                  | main_supplier_id    | fournisseurs       | id                  |
| produits                  | mama_id             | mamas              | id                  |
| produits                  | unite_id            | unites             | id                  |
| promotion_produits        | mama_id             | mamas              | id                  |
| promotion_produits        | produit_id          | produits           | id                  |
| promotion_produits        | promotion_id        | promotions         | id                  |
| promotions                | mama_id             | mamas              | id                  |
| regles_alertes            | mama_id             | mamas              | id                  |
| regles_alertes            | produit_id          | produits           | id                  |
| requisition_lignes        | mama_id             | mamas              | id                  |
| requisition_lignes        | produit_id          | produits           | id                  |
| requisition_lignes        | requisition_id      | requisitions       | id                  |
| requisitions              | auteur_id           | users              | id                  |
| requisitions              | mama_id             | mamas              | id                  |
| requisitions              | produit_id          | produits           | id                  |
| requisitions              | utilisateur_id      | utilisateurs       | id                  |
| requisitions              | zone_id             | zones_stock        | id                  |
| roles                     | mama_id             | mamas              | id                  |
| signalements              | created_by          | utilisateurs       | id                  |
| signalements              | mama_id             | mamas              | id                  |
| stock_mouvements          | auteur_id           | utilisateurs       | id                  |
| stock_mouvements          | inventaire_id       | inventaires        | id                  |
| stock_mouvements          | mama_id             | mamas              | id                  |
| stock_mouvements          | produit_id          | produits           | id                  |
| stock_mouvements          | zone_destination_id | zones_stock        | id                  |
| stock_mouvements          | zone_id             | zones_stock        | id                  |
| stock_mouvements          | zone_source_id      | zones_stock        | id                  |
| stocks                    | mama_id             | mamas              | id                  |
| stocks                    | produit_id          | produits           | id                  |
| stocks                    | zone_id             | zones_stock        | id                  |
| tableaux_de_bord          | mama_id             | mamas              | id                  |
| tableaux_de_bord          | utilisateur_id      | utilisateurs       | id                  |
| tache_assignations        | mama_id             | mamas              | id                  |
| tache_assignations        | tache_id            | taches             | id                  |
| tache_assignations        | utilisateur_id      | utilisateurs       | id                  |
| tache_instances           | done_by             | users              | id                  |
| tache_instances           | mama_id             | mamas              | id                  |
| tache_instances           | tache_id            | taches             | id                  |
| taches                    | created_by          | users              | id                  |
| taches                    | mama_id             | mamas              | id                  |
| taches                    | utilisateur_id      | utilisateurs       | id                  |
| tooltips                  | mama_id             | mamas              | id                  |
| transfert_lignes          | produit_id          | produits           | id                  |
| transfert_lignes          | transfert_id        | transferts         | id                  |
| transferts                | created_by          | users              | id                  |
| transferts                | mama_id             | mamas              | id                  |
| transferts                | produit_id          | produits           | id                  |
| transferts                | utilisateur_id      | utilisateurs       | id                  |
| transferts                | zone_dest_id        | zones_stock        | id                  |
| transferts                | zone_source_id      | zones_stock        | id                  |
| unites                    | mama_id             | mamas              | id                  |
| unites_equivalentes       | mama_id             | mamas              | id                  |
| unites_equivalentes       | unite_dst           | unites             | id                  |
| unites_equivalentes       | unite_src           | unites             | id                  |
| usage_stats               | mama_id             | mamas              | id                  |
| usage_stats               | user_id             | utilisateurs       | id                  |
| utilisateurs              | mama_id             | mamas              | id                  |
| utilisateurs              | role_id             | roles              | id                  |
| validation_requests       | mama_id             | mamas              | id                  |
| validation_requests       | user_id             | utilisateurs       | id                  |
| ventes_boissons           | boisson_id          | produits           | id                  |
| ventes_boissons           | created_by          | users              | id                  |
| ventes_boissons           | mama_id             | mamas              | id                  |
| ventes_fiches_carte       | fiche_id            | fiches             | id                  |
| ventes_fiches_carte       | mama_id             | mamas              | id                  |
| zones_stock               | mama_id             | mamas              | id                  |